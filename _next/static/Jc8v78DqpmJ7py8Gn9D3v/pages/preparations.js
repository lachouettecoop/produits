(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Kw9S:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preparations",function(){return a("oaP0")}])},oaP0:function(e,t,a){"use strict";a.r(t);var n=a("wx14"),r=a("q1tI"),o=a.n(r),c=a("sZxp"),s=a.n(c),l=a("MSGb"),u=a("Z+eW"),i=a("YFqc"),m=a.n(i),p=o.a.createElement,d=function(e){var t=e.value;return p("span",{className:"text-sm text-gray-600"},t?p(u.a,{date:new Date(t)}):p(s.a,{width:100}))},f=function(e){var t=e.nom_chouettos,a=e.total,n=e.statut,r=e.created_at,o=e.id,c=e.notes,u=e.chouettos;return p("div",{className:"my-4 w-1/2 md:w-1/3 hover:bg-gray-200  relative"},p("div",{className:"absolute top-0 right-0 mt-4 mr-8"},p(l.a,{currentValue:n,id:o})),p(m.a,{href:o?"/preparations/".concat(o):"#"},p("a",{className:"py-4 px-8 h-full flex flex-col justify-between"},p("div",null,p("p",{className:"text-4xl"},o?"#".concat(o):p(s.a,{width:40})),p(d,{value:r})),p("div",{className:"my-4"},p("p",{className:"text-xl"},t||p(s.a,{width:200})),p("p",{className:"text-gray-600"},"T\xe9l : ",u?u.telephone:p(s.a,{width:200})),""!==c&&p("p",{className:"mt-2 my-4 p-2 border-l border-gray-500 text-sm"},c?p("span",{dangerouslySetInnerHTML:{__html:c.replace(/\n/g,"<br />")}}):p(s.a,{count:3}))),p("p",{className:"text-right text-xl text-gray-600 mt-auto"},a&&a.toFixed(2)||p(s.a,{width:20}),"\u20ac"))))},b=a("5Yp1"),w=a("rePB"),h=a("TSYQ"),v=a.n(h),x=a("0fG/"),y=o.a.createElement;function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(w.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=function(e){var t=e.value,a=e.onChange,n=e.commandes,r=n&&n.reduce((function(e,t){var a=t.statut,n=t.total,r=e[a]||{count:0,total:0};return g(g({},e),{},Object(w.a)({},a,{count:r.count+1,total:r.total+Number(n)}))}),{});return y("div",{className:"mt-4 flex content-center justify-between"},r?Object.keys(r).sort(x.e).map((function(e){var n=e===t;return y("button",{className:v()("px-4 py-2 text-white font-bold flex flex-col",Object(x.a)(e),{"shadow-md":n,underline:n}),onClick:function(){return a(n?null:e)},key:e},y("span",null,Object(x.b)(e)," \xd7",r[e].count),y("span",{className:"text-xs"},Math.round(r[e].total)," \u20ac"))})):y(s.a,{width:130,height:40,count:5,wrapper:function(e){var t=e.children;return y("span",{className:"mr-4"},t)}}))},N=a("VtrM"),P=o.a.createElement,_=function(e){var t=e.commandes,a=t&&t.reduce((function(e,t){return e+t.total}),0);return P("div",{className:"my-4 pb-4 flex flex-col text-center"},P("span",{className:"text-6xl"},Math.round(a)||P(s.a,{width:145})," \u20ac"),P("p",{className:"text-gray-500"},"Total des commandes"))},S=function(){var e=Object(N.c)("/commandes?statut_ne=archivee&_sort=created_at:ASC",{refreshInterval:3e4}).data,t=Object(r.useState)(null),a=t[0],o=t[1];return P(r.Fragment,null,P(_,{commandes:e}),P(j,{value:a,onChange:o,commandes:e}),P("div",{className:"my-4 flex flex-wrap"},e?e.filter((function(e){return!a||e.statut===a})).map((function(e){return P(f,Object(n.a)({key:e.id},e))})):Array.from(Array(10)).map((function(e,t){return P(f,{key:t})}))))};t.default=function(){return P(b.a,null,P("main",null,P("p",null,"Cette page contient toutes les commandes pass\xe9es sur le Drive, notamment \xe0 traiter."),P("p",null,"Elle est utilis\xe9e au Lab, pour aider \xe0 la pr\xe9paration des commandes. La personne qui organise l'activit\xe9 (le ou la GH) peut ainsi avoir un aper\xe7u de l'\xe9tat des commandes en cours et \xe0 venir."),P(S,null)))}}},[["Kw9S",0,2,1,3]]]);